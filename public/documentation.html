<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation for myFlix API</title>
</head>
<body>
    <h1>Documentation for myFlix API</h1>

    <h2>Objective</h2>
    <p>The objective of the myFlix API is to serve as the server-side component for a movies web application. This API provides users with access to information about movies, directors, and genres. Users can sign up, update their personal information, and create a list of favorite movies.</p>

    <h2>Context</h2>
    <p>The myFlix API is part of a full-stack JavaScript development project known as Achievement 2. It forms the server-side component of the myFlix web application. In Achievement 3, the client-side component will be built using React. The complete tech stack, including MongoDB, Express, React, and Node.js (MERN stack), will be mastered throughout this project.</p>

    <h2>The 5 Ws</h2>
    <ul>
        <li><strong>Who:</strong> Frontend developers working on the client-side and movie enthusiasts who want access to movie-related information.</li>
        <li><strong>What:</strong> A well-designed REST API built with JavaScript, Node.js, Express, and MongoDB.</li>
        <li><strong>When:</strong> Users interact with the myFlix application to read about movies, update their information, or manage their list of favorite movies.</li>
        <li><strong>Where:</strong> The myFlix application is hosted online and is accessible from any device.</li>
        <li><strong>Why:</strong> To provide movie enthusiasts with access to information about movies, directors, and genres, and to enable users to manage their movie preferences.</li>
    </ul>

    <h2>Design Criteria</h2>

    <h3>User Stories</h3>
    <ul>
        <li>As a user, I want to receive information on movies, directors, and genres.</li>
        <li>As a user, I want to create a profile and save data about my favorite movies.</li>
    </ul>

    <h3>Feature Requirements</h3>
    <h4>Essential Features:</h4>
    <ul>
        <li>Return a list of all movies.</li>
        <li>Return data about a single movie by title.</li>
        <li>Return data about a genre by name.</li>
        <li>Return data about a director by name.</li>
        <li>Allow new users to register.</li>
        <li>Allow users to update their user info.</li>
        <li>Allow users to add/remove movies from their list of favorites.</li>
    </ul>
    <h4>Optional Features:</h4>
    <p>Additional features for future iterations of the application.</p>

    <h2>Technical Requirements</h2>
    <ul>
        <li>Node.js and Express application.</li>
        <li>REST architecture with URL endpoints.</li>
        <li>Use of middleware modules.</li>
        <li>MongoDB database.</li>
        <li>Business logic modeled with Mongoose.</li>
        <li>JSON format for movie information.</li>
        <li>Error-free JavaScript code.</li>
        <li>Testing in Postman.</li>
        <li>User authentication and authorization.</li>
        <li>Data validation logic.</li>
        <li>Compliance with data security regulations.</li>
        <li>Source code deployment to GitHub and Heroku.</li>
    </ul>

    <h2>Project Deliverables</h2>
    <p>The myFlix API will be developed incrementally through a series of exercises, each contributing to the final product. The documentation for each exercise will ensure high-quality deliverables for incorporation into a professional portfolio.</p>

    <h2>Endpoints</h2>
    <table border="1" cellspacing="0" cellpadding="5">
        <tr>
            <th>Business Logic</th>
            <th>URL</th>
            <th>HTTP Method</th>
            <th>Request</th>
            <th>Response</th>
        </tr>
        <tr>
            <td>Create/Add new user</td>
            <td>/users</td>
            <td>POST</td>
            <td>
                <pre>{
  "first_name": "John",
  "last_name": "Doe",
  "username": "johndoe",
  "password": "password123",
  "email": "john.doe@example.com",
  "birthday": "1985-01-01"
}</pre>
            </td>
            <td>
                <pre>{
  "_id": "60d5f484f8b4b206a0f7b6e0",
  "first_name": "John",
  "last_name": "Doe",
  "username": "johndoe",
  "password": "password123",
  "email": "john.doe@example.com",
  "birthday": "1985-01-01T00:00:00.000Z",
  "favorite_movies": []
}</pre>
            </td>
        </tr>
        <tr>
            <td>Update user info</td>
            <td>/users/:username</td>
            <td>PUT</td>
            <td>
                <pre>{
  "first_name": "John",
  "last_name": "Smith",
  "username": "johnsmith",
  "password": "newpassword123",
  "email": "john.smith@example.com",
  "birthday": "1985-01-01"
}</pre>
            </td>
            <td>
                <pre>{
  "_id": "60d5f484f8b4b206a0f7b6e0",
  "first_name": "John",
  "last_name": "Smith",
  "username": "johnsmith",
  "password": "newpassword123",
  "email": "john.smith@example.com",
  "birthday": "1985-01-01T00:00:00.000Z",
  "favorite_movies": []
}</pre>
            </td>
        </tr>
        <tr>
            <td>Add movie to user's favorite list</td>
            <td>/users/:username/movies/:movieID</td>
            <td>POST</td>
            <td>N/A</td>
            <td>
                <pre>{
  "_id": "60d5f484f8b4b206a0f7b6e0",
  "username": "johnsmith",
  "favorite_movies": ["60d5f484f8b4b206a0f7b6d0"]
}</pre>
            </td>
        </tr>
        <tr>
            <td>Delete movie from user's favorite list</td>
            <td>/users/:username/movies/:movieID</td>
            <td>DELETE</td>
            <td>N/A</td>
            <td>
                <pre>{
  "_id": "60d5f484f8b4b206a0f7b6e0",
  "username": "johnsmith",
  "favorite_movies": []
}</pre>
            </td>
        </tr>
        <tr>
            <td>Remove user</td>
            <td>/users/:username</td>
            <td>DELETE</td>
            <td>N/A</td>
            <td>johnsmith was deleted.</td>
        </tr>
        <tr>
            <td>Get list of all movies</td>
            <td>/movies</td>
            <td>GET</td>
            <td>N/A</td>
            <td>
                <pre>[
  {
    "_id": "60d5f484f8b4b206a0f7b6d1",
    "title": "The Shawshank Redemption",
    "description": "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",
    "genre": {
      "name": "Drama",
      "description": "A genre that explores serious themes and often focuses on emotional conflict."
    },
    "director": {
      "name": "Frank Darabont",
      "bio": "Frank Darabont is a Hungarian-American film director, screenwriter, and producer.",
      "birth_date": "1959-01-28"
    },
    "release_year": 1994,
    "rating": 9.3,
    "additional_attributes": {
      "runtime": 142,
      "main_actors": ["Tim Robbins", "Morgan Freeman"]
    }
  }
]</pre>
            </td>
        </tr>
        <tr>
            <td>Get data about a single movie</td>
            <td>/movies/:title</td>
            <td>GET</td>
            <td>N/A</td>
            <td>
                <pre>{
  "_id": "60d5f484f8b4b206a0f7b6d1",
  "title": "The Shawshank Redemption",
  "description": "Two imprisoned men bond over a number of years, finding solace and eventual redemption through acts of common decency.",
  "genre": {
    "name": "Drama",
    "description": "A genre that explores serious themes and often focuses on emotional conflict."
  },
  "director": {
    "name": "Frank Darabont",
    "bio": "Frank Darabont is a Hungarian-American film director, screenwriter, and producer.",
    "birth_date": "1959-01-28"
  },
  "release_year": 1994,
  "rating": 9.3,
  "additional_attributes": {
    "runtime": 142,
    "main_actors": ["Tim Robbins", "Morgan Freeman"]
  }
}</pre>
            </td>
        </tr>
        <tr>
            <td>Get data about a genre by name</td>
            <td>/genres/:name</td>
            <td>GET</td>
            <td>N/A</td>
            <td>
                <pre>{
  "name": "Drama",
  "description": "A genre that explores serious themes and often focuses on emotional conflict."
}</pre>
            </td>
        </tr>
        <tr>
            <td>Get data about a director by name</td>
            <td>/directors/:name</td>
            <td>GET</td>
            <td>N/A</td>
            <td>
                <pre>{
  "name": "Frank Darabont",
  "bio": "Frank Darabont is a Hungarian-American film director, screenwriter, and producer.",
  "birth_date": "1959-01-28"
}</pre>
            </td>
        </tr>
    </table>
</body>
</html>
